const _0xe90ab0=_0x585f;(function(_0xe5df86,_0x34ea0e){const _0x5e43e1=_0x585f,_0x708cba=_0xe5df86();while(!![]){try{const _0x3cb3d7=parseInt(_0x5e43e1(0xea))/0x1+-parseInt(_0x5e43e1(0xfe))/0x2+parseInt(_0x5e43e1(0xed))/0x3+-parseInt(_0x5e43e1(0xfd))/0x4+parseInt(_0x5e43e1(0xf1))/0x5+parseInt(_0x5e43e1(0xfc))/0x6+-parseInt(_0x5e43e1(0xf0))/0x7;if(_0x3cb3d7===_0x34ea0e)break;else _0x708cba['push'](_0x708cba['shift']());}catch(_0x49e598){_0x708cba['push'](_0x708cba['shift']());}}}(_0x167d,0x4c41d));const mongoose=require('mongoose'),agentPaymentSchema=new mongoose[(_0xe90ab0(0xfb))]({'agentPaymentUid':{'type':String,'unique':!![]},'agent':{'type':mongoose[_0xe90ab0(0xfb)]['Types'][_0xe90ab0(0xf5)],'ref':_0xe90ab0(0xfa),'required':!![]},'amount':{'type':Number,'required':!![]},'date':{'type':Date,'required':!![]},'invoiceFrom':{'type':Date,'required':!![]},'invoiceTo':{'type':Date,'required':!![]}},{'timestamps':!![]});async function generateAgentPaymentUid(){const _0x2d047e=_0xe90ab0,_0x16f42b=this[_0x2d047e(0xeb)]('AgentPayment'),_0x48018c=await _0x16f42b['findOne']({},{'agentPaymentUid':0x1},{'sort':{'agentPaymentUid':-0x1}});let _0x2f12c5=_0x2d047e(0xec);if(_0x48018c){const _0x4e3347=parseInt(_0x48018c[_0x2d047e(0xf7)],0xa);_0x2f12c5=(_0x4e3347+0x1)[_0x2d047e(0xf4)]()[_0x2d047e(0xff)](0x8,'0');}return _0x2f12c5;}function _0x585f(_0x128729,_0x651ba1){const _0x167d12=_0x167d();return _0x585f=function(_0x585fab,_0x9ddba5){_0x585fab=_0x585fab-0xe9;let _0x18b4c0=_0x167d12[_0x585fab];return _0x18b4c0;},_0x585f(_0x128729,_0x651ba1);}function _0x167d(){const _0xc7d637=['pre','isModified','1942339ijyicm','2454515YDxzfw','hash','exports','toString','ObjectId','password','agentPaymentUid','AgentPayment','call','Agent','Schema','1121610WJzIjh','493332GFZXVt','686226rUbGeY','padStart','save','132624czaXXH','model','00000001','737430FPSMje'];_0x167d=function(){return _0xc7d637;};return _0x167d();}agentPaymentSchema[_0xe90ab0(0xee)](_0xe90ab0(0xe9),async function(_0x16be1c){const _0x2bdfcf=_0xe90ab0;try{!this[_0x2bdfcf(0xf7)]&&(this[_0x2bdfcf(0xf7)]=await generateAgentPaymentUid[_0x2bdfcf(0xf9)](this));if(!this[_0x2bdfcf(0xef)](_0x2bdfcf(0xf6)))return _0x16be1c();const _0x119759=0xa,_0x5cf8b2=await bcrypt[_0x2bdfcf(0xf2)](this[_0x2bdfcf(0xf6)],_0x119759);this[_0x2bdfcf(0xf6)]=_0x5cf8b2,_0x16be1c();}catch(_0x2555e9){_0x16be1c(_0x2555e9);}}),module[_0xe90ab0(0xf3)]=mongoose[_0xe90ab0(0xeb)](_0xe90ab0(0xf8),agentPaymentSchema);